{% extends "tasks/base.html" %}

{% block title %}OHM Desk{% endblock %}

{% block content %}
<div class="container">
    <header class="header">
        <h1 class="header-title">
            <span class="c-blue">OHM</span>
            <span class="c-amber">Desk</span>
        </h1>

        <div class="header-controls">
            <span class="welcome-text">Welcome, {{ user.username }}</span>
            <a href="{% url 'tasks:ticket_list' %}" class="button-primary">Tickets View</a>
            <a href="{% url 'tasks:create' %}" class="button-primary">New Task</a>
            <a href="{% url 'tasks:logout' %}" class="button-primary">Logout</a>
        </div>
    </header>

    <main class="matrix-grid">
        <div class="quadrant do-first">
            <div class="quadrant-header">
                <h2 class="quadrant-title">Urgent & Important</h2>
                <p class="quadrant-subtitle">Do First</p>
            </div>
            <div class="task-list-container">
                {% for task in do_first_tasks %}
                    {% include "tasks/task_card.html" with task=task %}
                {% empty %}
                    <p class="task-list-empty">No tasks in this quadrant.</p>
                {% endfor %}
            </div> 
        </div>

        <div class="quadrant schedule">
            <div class="quadrant-header">
                <h2 class="quadrant-title">Not Urgent & Important</h2>
                <p class="quadrant-subtitle">Schedule</p>
            </div>
            <div class="task-list-container">
                {% for task in schedule_tasks %}
                {% include "tasks/task_card.html" with task=task %}
            {% empty %}
                <p class="task-list-empty">No tasks in this quadrant.</p>
            {% endfor %}
            </div>
        </div>

        <div class="quadrant delegate">
            <div class="quadrant-header">
                <h2 class="quadrant-title">Urgent & Not Important</h2>
                <p class="quadrant-subtitle">Queue</p>
            </div>
            <div class="task-list-container">
                {% for task in delegate_tasks %}
                    {% include "tasks/task_card.html" with task=task %}
                {% empty %}
                    <p class="task-list-empty">No tasks in this quadrant.</p>
                {% endfor %}
            </div>
        </div>

        <div class="quadrant delete">
            <div class="quadrant-header">
                <h2 class="quadrant-title">Not Urgent & Not Important</h2>
                <p class="quadrant-subtitle">Backlog / Archive</p>
            </div>
            <div class="task-list-container">
                {% for task in delete_tasks %}
                    {% include "tasks/task_card.html" with task=task %}
                {% empty %}
                    <p class="task-list-empty">No tasks in this quadrant.</p>
                {% endfor %}
            </div>
        </div>
    </main>
</div>
{% endblock %}